# Test 4 - check put/get operations with no per-character delays
# ======
#

sp_create localhost 16001       # OK
sp_open ttyS1                   # OK
sp_put a_line
sp_put another_line
sp_put a_very_much_longer_set_of_characters_to_build_things_out_to_here
sp_put x
sp_put EOF
sp_sleep 0 0                    # Wait for data to clear
sp_close                        # OK

pause 1000                      # Wait for connections to reset.

sp_open ttyS1
sp_sleep 80 0                   # let the buffer fill
sp_get 80                       # Read 80 characters
sp_sleep 6 0			
sp_get 6                        # Read 6 characters
sp_sleep 10 0
sp_get 10                       # Should get nothing
sp_close
sp_delete

#
# End of test: 0 errors expected
#
