Processing script data/test9.txt
  1: # Test 9 - exercise every call sp_echo using a loopback
  2: # ======
  3: #
  4: 
  5: sp_create localhost 16001
     Object: SerialPort(0,localhost,16001)
  6: sp_listports
     Port list: [ttyS0,ttyS1,ttyS3,ttyS4] (23 bytes)
  7: sp_open ttyS4
  8: sp_getport
     Port parameters: [9600,7,N,1] (10 bytes)
  9: sp_setport 4800 7 E 1
 10: sp_getport
     Port parameters: [4800,7,E,1] (10 bytes)
 11: sp_reset T T T
 12: sp_delay 10
 13: sp_setsep T . T
 14: sp_put Output_string
 15: sp_put Another_line
 16: sp_put A_much_longer_line_containing_junk
 17: sp_put x
 18: sp_setsep 0 . 0
 19: sp_put EOF
 20: sp_query
     Return values: Received bytes=67  Transmission queue=0  Buffer size=3000
 21: sp_sleep 0 0                # Wait for the write buffer to empty
 22: sp_setsep T . T
 23: sp_sleep 20 0
 24: sp_get 20                   # Should get "Output_string"
     Return string: [Output_string] (13 bytes)
 25: sp_setsep t . f
 26: sp_sleep 20 0
 27: sp_get 20                   # Should get "Another_line."
     Return string: [Another_line.] (13 bytes)
 28: sp_reset f f T              # Clear the separator
 29: sp_sleep 50 0
 30: sp_get 50                   # Reads "A_much_longer_line_containing_junk.x.EOF"
     Return string: [A_much_longer_line_containing_junk.x.EOF] (40 bytes)
 31: sp_sleep 0 0
 32: sp_get 80                   # Should get nothing
     Return string: [] (0 bytes)
 33: sp_echo Echoed_message 25 0 # Should get "Echoed_message"
     Return string: [Echoed_message] (14 bytes)
 34: sp_close TRUE               # Force the close to disconnect
 35: sp_delete
 36: 
 37: #
 38: # End of test: no errors expected
 39: #
Script ended: 0 errors

