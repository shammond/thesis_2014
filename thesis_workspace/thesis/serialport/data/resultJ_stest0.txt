Processing script data/stest0.txt
  1: #
  2: # stest0.txt - login prior to running tests with configured lines
  3: # ==========
  4: #
  5: sp_create localhost 16001
     Object: SerialPort(0,localhost,16001)
  6: sp_open ttyS0
  7: login spt                  # login as 'spt': no password needed
     Login OK
  8: sp_echo Q 200 200          # send sptarget a Quit command
     Return string: [Read 1  Wrote 0
Logout after 9 seconds.  Total time 0:15:59.
] (65 bytes)
  9: sp_close TRUE              # end the session
 10: pause 1000
 11: 
 12: sp_open ttyS0
 13: login sptarget             # login as an unknown user: should fail
     Error:  -1024,Login failed
 14: sp_close TRUE              # end the session
 15: pause 1000
 16: 
 17: sp_open ttyS0
 18: login cc kiwi              # login as cc, a normal user needing a password
     Login OK
 19: sp_setsep T \r T           # prepare to deal with the sh shell 
 20: sp_put dir                 # send the "dir" command and read the echo
 21: sp_setsep F \r F           # disable field separators
 22: sp_sleep 1600 100          # wait for command to execute
 23: sp_get 1600                # read the multi-line response
     Return string: [dir
                            Directory of . 14:21:04
BEAV            BENCHMARKS      BENFORD         BISON           CPUCACHE 
DEMON           DIRUTILS        DVS             ENVIRON         EULER 
FCS             FLEX            HCI             INTERP          KEYLIST 
KM              MULTI           PD              PR              REMINDER 
SERIALPORT      SHELLS          SKEL            SPAR            SPOOLER 
TFILTER         UNIX            UTILS           VGA             XPTL 
/h0/DEV/C : ] (511 bytes)
 24: sp_setsep T \r T           # field separators on again 
 25: sp_put x                   # send logout command and read its echo
 26: sp_setsep f \r f           # disable separators
 27: sp_sleep 1600 100          # wait for command to execute
 28: sp_get 1600                # read the multiline response
     Return string: [x
Logout after 46 seconds.  Total time 0:16:45.
] (50 bytes)
 29: sp_close                   # end the session
 30: pause 1000
 31: 
 32: sp_open ttyS0
 33: login spt                  # login as 'spt': no password needed
     Login OK
 34: sp_close                   # leave 'spt' looged in for further tests
 35: sp_delete
 36: 
 37: #
 38: # End of script - 1 error expected
 39: #
Script ended: 0 errors

