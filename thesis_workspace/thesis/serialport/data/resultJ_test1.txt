Processing script data/test1.txt
  1: # Test 1 - exercise every call except sp_echo
  2: # ======
  3: #
  4: 
  5: sp_create localhost 16001
     Object: SerialPort(0,localhost,16001)
  6: sp_listports
     Port list: [ttyS0,ttyS1,ttyS3,ttyS4] (23 bytes)
  7: sp_open ttyS1
  8: sp_getport
     Port parameters: [9600,8,N,1] (10 bytes)
  9: sp_setport 4800 7 E 1
 10: sp_getport
     Port parameters: [4800,7,E,1] (10 bytes)
 11: sp_reset T T T
 12: sp_delay 10
 13: sp_setsep T . T
 14: sp_put Output_string
 15: sp_put Another_line
 16: sp_put A_much_longer_line_containing_junk
 17: sp_put x
 18: sp_setsep 0 . 0
 19: sp_put EOF
 20: sp_query
     Return values: Received bytes=0  Transmission queue=62  Buffer size=3000
 21: sp_sleep 0 0       # Wait for the write buffer to empty
 22: sp_close FALSE     # OK - close the connection
 23: 
 24: pause 1000         # Wait for the connection to become available again
 25: 
 26: sp_open ttyS1
 27: sp_getport
     Port parameters: [9600,8,N,1] (10 bytes)
 28: sp_setsep T . T
 29: sp_sleep 20 0
 30: sp_get 20          # Should get "Output_string"
     Return string: [Output_string] (13 bytes)
 31: sp_setsep t . f
 32: sp_sleep 20 0
 33: sp_get 20          # Should get "Another_line."
     Return string: [Another_line.] (13 bytes)
 34: sp_reset f f T     # Clear the separator
 35: sp_sleep 50 0
 36: sp_get 50          # Should get "A_much_longer_line_containing_junk.x.EOF"
     Return string: [A_much_longer_line_containing_junk.x.EOF] (40 bytes)
 37: sp_sleep 0 0
 38: sp_get 80          # Should get nothing
     Return string: [] (0 bytes)
 39: sp_close TRUE      # Force the close to disconnect
 40: sp_delete
 41: 
 42: #
 43: # End of test: no errors expected
 44: #
Script ended: 0 errors

